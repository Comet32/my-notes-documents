# è‰ç¨¿æœ¬ğŸ“–

## ç§»åŠ¨ç«¯å¼€å‘æ³¨æ„äº‹é¡¹

- ä¸åŸç”Ÿä¹‹é—´çš„é€šä¿¡è¦æ³¨æ„é¿å…ï¼Œå¦‚æœä¸èƒ½é¿å…ï¼Œéœ€è¦çŸ¥é“ Android æ˜¯èƒ½å¤Ÿç›´æ¥è°ƒç”¨ js çš„ï¼Œios åˆ™éœ€è¦ä¸€ä¸ªé€‚é…å™¨æ¥åšè½¬æ¥ã€‚
- `mobx` çš„ `5` ä»¥ä¸Šä¸å¾®ä¿¡å†…æ ¸ä¸èƒ½å…¼å®¹ï¼Œä¼šå‡ºç°é—®é¢˜ã€‚
- ä¸Šä¼ ä¹Ÿä¼šæœ‰ä¸€ç‚¹é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ `jmm` é¡¹ç›®ä¸­ç°æˆçš„ç»„ä»¶æˆ–æ˜¯æ”¹é€ ä¸€ä¸‹ã€‚
- `ant-design-mobile` ä¼šæœ‰ç»„ä»¶æ”¯æŒè‡ªåŠ¨é€‚é…
- ä½¿ç”¨ `react-live-route` åº“æ‰€æä¾›çš„ `NotLiveRoute` ç»„ä»¶æ¥å®ç°æŒä¹…åŒ–çš„åŸå› æ˜¯ä»æŸä¸ªåˆ—è¡¨é¡¹è·³è½¬åˆ°è¯¦æƒ…é¡µåè¿”å›è¿‡æ¥èƒ½å¤Ÿä¿æŒåœ¨ä¹‹å‰æ‰€æ“ä½œçš„ä½ç½®ï¼Œè€Œä¸æ˜¯é‡æ–°åŠ è½½é¡µé¢ã€‚
- é¡µé¢æ ‡é¢˜çš„æ˜¾ç¤ºé—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨ `DocumentTitle` ç»„ä»¶å¹¶ä¸”å¯èƒ½ä¹Ÿéœ€è¦å‘åŸç”Ÿåº”ç”¨ä¼ å€¼ã€‚



æ‘˜å½•

> - ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä½ ä¼šé€šè¿‡è¿™ä¸ªèµšåˆ°é’±
> - å®Œå…¨æ²¡æƒ³åˆ°ï¼Œå½“æˆ‘å‘å¸ƒçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯çœŸçš„åœ¨è¯´æˆ‘æƒ³å°†å…¶å‘å¸ƒä¸ºä¸€ä¸ªå¯æŒç»­çš„é¡¹ç›®ï¼Œå°±åƒä¸€ä¸ªéŸ³ä¹çˆ±å¥½è€…ä¸ºäº†ä¹è¶£è€Œåšä¸€ä¸ªä¸“è¾‘ï¼Œä½ çŸ¥é“é‚£ç§æ„Ÿè§‰ï¼Œä¸æ˜¯ä¸ºäº†èµšé’±ï¼Œä½ å‘å¸ƒè¿™ä¸ªéŸ³ä¹åªæ˜¯å› ä¸ºä½ äº«å—åˆ›ä½œå®ƒçš„è¿‡ç¨‹ï¼Œå¹¶ä¸”ä½ å¸Œæœ›å…¶ä»–äººèƒ½å¬åˆ°å®ƒã€‚
>
> --- æ¥è‡ª vue.jsï¼šçºªå½•ç‰‡

æœ¬æ¥æˆ‘å¯¹ `Vue` å¸¦æœ‰æŸç§åè§ï¼Œä½†æ˜¯åœ¨çœ‹çºªå½•ç‰‡çš„è¿‡ç¨‹ä¸­ï¼Œæ…¢æ…¢çš„å°±ä¼šå¼€å§‹å–œæ¬¢ä¸Š `vue` äº†ã€‚





```ts
const channelArray = [
  //{name: 'æ”¯ä»˜é‡‘é¢', value: 'amount', checked: true},
  //{name: 'æ”¯ä»˜ä»¶æ•°', value: 'quantity', checked: true},
  //{name: 'æ”¶è—äººæ•°', value: 'collectionNum', checked: true},
  //{name: 'åŠ è´­äººæ•°', value: 'addNum', checked: true},
  //{name: 'ä¸‹å•ä»¶æ•°', value: 'orderQuantity', checked: true},
  //{name: 'ä¸‹å•äººæ•°', value: 'orderNum', checked: false},
  //{name: 'æ”¯ä»˜è½¬åŒ–ç‡', value: 'rate', checked: false},
  //{name: 'æ”¯ä»˜ä¼šå‘˜æ•°', value: 'payBuyer', checked: false},
  //{name: 'æµè§ˆé‡', value: 'pv', checked: false},
  //{name: 'è®¿å®¢æ•°', value: 'uv', checked: false},
];
```



---

```shell
#!/bin/bash
rm -rf android/build/
rm -rf android/app/build
if [[ $profile == 'debug' ]];
then
	echo "yarn."
    source /home/deployer/.bashrc
    yarn
	npm run build:androiddebug 
fi
if [[ $profile == 'release' ]];
then
	echo "npm i ..."
    source /home/deployer/.bashrc
    yarn
	npm run build:android
fi

cd android
./gradlew clean app:assemble${profile}
if [[ $uploadRelease == true ]];
then
	echo "upload apk and mapping ..."
	./gradlew app:uploadArchives
fi 
time=$(date '+%Y%m%d%H%M%S' )


echo /home/deployer/tomcat/webapps/partner/$time
mkdir /home/deployer/tomcat/webapps/partner/$time
cp -rf ./app/build/outputs/  //home/deployer/tomcat/webapps/partner/$time
chmod -R 777 /home/deployer/tomcat/webapps/partner/$time
echo ========================================æäº¤æ—¥å¿—================================================
git log --pretty=format:"%h - %an,%ar : %s" --since="24 hours" --graph
echo =======================================END==============================================
echo ""
echo =======================================ä¸‹è½½é€šé“==============================================
#echo ftp://10.201.5.242/android/partnerapk/$time/outputs/apk/${profile}/    test  test
#echo http://10.201.5.242/android/partnerapk/$time/outputs/apk/${profile}/
fileapk="/home/deployer/tomcat/webapps/partner/$time/outputs/apk/${profile}"
#for file_a in ${fileapk}/*
#do  
#    temp_file=`basename $file_a`  
#    echo "http://10.201.5.242/android/partnerapk/$time/outputs/apk/${profile}/${temp_file}"  
#done
for file_a in ${fileapk}/*
do
if [ "${file_a##*.}"x = "apk"x ];
then
      temp_file=`basename $file_a`  
      temp_url="https://www.pgyer.com/00ac"  
      
      echo $temp_url
      QR="curl http://www.liantu.com/api.php?text=${temp_url} > /home/deployer/tomcat/webapps/qrcode/qrcodeSaaS.png  "
	  eval $QR
      chmod -R 777 /home/deployer/tomcat/webapps/qrcode/qrcodeSaaS.png

      JOB="Android SAAS"
      URL=$temp_url
      IMAGE="http://10.1.100.76:8080/qrcode/qrcodeSaaS.png"
      TOKEN="https://oapi.dingtalk.com/robot/send?access_token=e3edc9978cd901f3a0a444cf31531530f4150ccff7fbabe306355ef4e189a8e5"
	  #DING="curl -H \"Content-Type: application/json\" -X POST --data '{\"msgtype\": \"text\", \"text\": {\"content\": \"${JOB} æ‰“åŒ…æˆåŠŸï¼Œç›´æ¥ä¸‹è½½åœ°å€ï¼š${URL}, äºŒç»´ç åœ°å€ï¼š${IMAGE}\"}}' ${TOKEN}"
      DING="curl -H \"Content-Type: application/json\" -X POST --data '{\"msgtype\": \"markdown\", \"markdown\": {\"title\":\"${JOB}\",\"text\":\"### ${JOB}\t\n URL:${URL},\t\n QR URL: ${IMAGE}\t\n QR:\t\n ![screenshot](http://www.liantu.com/api.php?text=${URL})\"}}' ${TOKEN}"
      eval $DING

fi
done

	
  
#URL=$temp_url
#      IMAGE="http://10.201.5.242/android/qrcode/qrcode1.png"
#      TOKEN="https://oapi.dingtalk.com/robot/send?access_token=17aa77ebadce9b69570307897b5816eb9842e3f5dbc52f753ec18247cc7c8f23"
#      DING="curl -H \"Content-Type: application/json\" -X POST --data '{\"msgtype\": \"link\", \"link\": { \"text\":\"Androidåˆä½œè€…æ‰“åŒ…æˆåŠŸï¼š\", \"title\": \"ä¸‹è½½\", \"picUrl\": \"${URL}\",   \"messageUrl\": \"${IMAGE}\"	 }	}' ${TOKEN}"
		#eval $DING
echo =======================================END==============================================
```

---

4.11 TO-DO

- ç™»é™†é¡µé¢çš„å¿˜è®°ç§˜å¯†
- æ³¨å†ŒæˆåŠŸä¹‹åè·³è½¬åˆ°ç™»é™†