# 1.ä½¿ç”¨ React Native æ„å»ºåº”ç”¨

> ä½ å°†å­¦ä¹  React Native èƒŒåçš„æ€ç»´åŠå…¶è¿ä½œæ–¹å¼ï¼Œä»¥åŠå¦‚ä½•å¼€å§‹ä½¿ç”¨å®ƒæ„å»º iOS å’Œ Android

[TOC]

## 1.1 ç®€ä»‹

æ¬¢è¿å­¦ä¹ ä¼˜è¾¾å­¦åŸçš„ React Native è¯¾ç¨‹ï¼Œè¿™é—¨è¯¾ç¨‹çš„ç›®æ ‡æ˜¯è®©ä½ èƒ½å¤Ÿä½¿ç”¨ React Native ä» React å¼€å‘å·¥ç¨‹å¸ˆå˜æˆåŸç”Ÿ iOS å’Œ Android å¼€å‘å·¥ç¨‹å¸ˆã€‚

å¥½æ¶ˆæ¯æ˜¯ï¼Œä½ å·²ç»æŒæ¡çš„ React çŸ¥è¯†ï¼Œåœ¨å­¦ä¹  React Native æ—¶å°†æ´¾ä¸Šç”¨åœºã€‚

- é¦–å…ˆï¼Œæˆ‘ä»¬å°†ç®€è¦ä»‹ç» React Native çš„å·¥ä½œåŸç†ï¼Œä¹Ÿå°±æ˜¯æ‰‹æœºä¸Šçš„æ•´ä¸ª JavaScript æ„å»ºè§†å›¾ï¼Œéå¸¸é…·ã€‚

- ç„¶åï¼Œ**é…ç½®å¼€å‘ç¯å¢ƒ**å¹¶äº†è§£**å¦‚ä½•è°ƒè¯•ä»£ç **ã€‚

- æ¥ç€ï¼Œæˆ‘ä»¬å°†å®é™…åœ°**å­¦ä¹ å’Œæ„å»º React Native ç»„ä»¶**ã€‚
- ç„¶åï¼Œæˆ‘ä»¬å°†åœ¨å¯¼èˆªè¯¾ç¨‹ä¸­å­¦ä¹ æ ·å¼å’Œå¸ƒå±€ã€‚
- æœ€åï¼Œæˆ‘ä»¬å°†ä»å¤„ç† React Native ä»£ç è½¬å˜ä¸ºåœ¨ iOS å’Œ Android ä¸Šæ§åˆ¶ç‰¹å®šäºæ“ä½œç³»ç»Ÿçš„åŠŸèƒ½ï¼Œä¾‹å¦‚åœ°ç†ä½ç½®å’Œé€šçŸ¥ã€‚

### è¯¾ç¨‹åœ°å›¾

æ¬¢è¿ï¼æœ¬è¯¾ç¨‹ä¸»è¦è®²è§£ React Native æ¡†æ¶ã€‚ä¸‹é¢æ˜¯è¯¾ç¨‹å†…å®¹çš„ç®€è¦æ¦‚è¿°ï¼š

- **ç¬¬ 1 è¯¾** è¯´æ˜ä½¿ç”¨ React Native æ„å»ºåŸç”Ÿåº”ç”¨ç¨‹åºçš„å¥½å¤„ï¼Œä»¥åŠå¦‚ä½•è®¾ç½®æœ‰æ•ˆçš„å¼€å‘ç¯å¢ƒã€‚
- **ç¬¬ 2 è¯¾** æ¯”è¾ƒ React å’Œ React Native ä¹‹é—´çš„ä¸»è¦æ€ç»´å’Œ API å·®å¼‚ã€‚
- **ç¬¬ 3 è¯¾** React Native åº”ç”¨çš„è¯¦ç»†ä¿¡æ¯æ ·å¼å’Œå¸ƒå±€æ¨¡å¼ã€‚
- **ç¬¬ 4 è¯¾** è®²è§£è·¯ç”±æ¨¡å¼ä¸ç­–ç•¥ã€‚
- **ç¬¬ 5 è¯¾** ä»‹ç»åŸç”ŸåŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼Œåœ°ç†å®šä½ã€é€šçŸ¥ç­‰ï¼‰ä»¥åŠä¸ºå‘åº”ç”¨å•†åº—å‘å¸ƒåº”ç”¨åšå‡†å¤‡ã€‚

### è¯¾å ‚é¡¹ç›®

åœ¨æ­¤è¯¾ä¸­ï¼Œä½ å°†è·Ÿç€æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ¯æ—¥å¥èº«è·Ÿè¸ªåº”ç”¨ [UdaciFitness](https://github.com/udacity/reactnd-UdaciFitness-complete)ã€‚ä½ å°†ç»“åˆå­¦åˆ°çš„ React åŸºç¡€çŸ¥è¯†å’Œ React & Reduxï¼Œåˆ©ç”¨ React Native åˆ›å»ºä¸€ä¸ªåŠŸèƒ½é½å…¨çš„ç§»åŠ¨åº”ç”¨ï¼



## 1.2 ä»€ä¹ˆæ˜¯ React Native/å®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ

React Native ä½¿ä½ èƒ½å¤Ÿä½¿ç”¨ React æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ï¼Œå¬èµ·æ¥å¾ˆå®Œç¾ï¼Œä¸å¤ªçœŸå®ï¼Œä½†è¿™æ˜¯çœŸçš„ã€‚

æ²ƒå°”ç›ã€Airbnb å’Œç‰¹æ–¯æ‹‰ç­‰å…¬å¸éƒ½ä¸€å®šç¨‹åº¦åœ°åœ¨ä»–ä»¬çš„ç§»åŠ¨åº”ç”¨ä¸­ä½¿ç”¨äº† React Nativeï¼Œä½†æˆ‘è§‰å¾— React Native å¯¹å°å‹åˆåˆ›ä¼ä¸šä½œç”¨æ›´å¤§ã€‚æœ‰äº† React Nativeï¼Œä¸ç”¨å†å¦å¤–ç»„å»ºç½‘é¡µå¼€å‘å›¢é˜Ÿã€iOS å›¢é˜Ÿå’Œ Android å›¢é˜Ÿï¼Œåªéœ€ä¸€ä¸ª UI å›¢é˜Ÿå°±å¯ä»¥äº†ã€‚ä¸ä»…ä¸ºä¼ä¸šèŠ‚çœäº†å¾ˆå¤šèµ„é‡‘ï¼Œè€Œä¸”ç¼©çŸ­äº†å¼€å‘æ—¶é—´ã€‚

ä½ å¯èƒ½å¬è¯´è¿‡ä¸€å¥è¯ï¼Œ**â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€ï¼ˆWrite onceï¼Œrun anywhereï¼‰**ã€‚è¿™å¥è¯çš„ç†å¿µå°±æ˜¯å¯ä»¥å°†ä¸€ä¸ªä»“åº“åº”ç”¨åˆ°ç½‘é¡µã€iOS å¹³å°å’Œ Android å¹³å°ä¸Šï¼Œä½†å®é™…æ“ä½œèµ·æ¥å¾ˆéš¾å®ç°ï¼Œå› ä¸ºæ¯ç§å¹³å°éƒ½å…·æœ‰ç‹¬ç‰¹çš„ä½“éªŒï¼Œä¸â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€ä¸åŒï¼ŒReact Native çš„åº§å³é“­æ˜¯**â€œä¸€æ¬¡å­¦ä¹ ï¼Œéšå¤„å¼€å‘â€ï¼ˆLearn onceï¼Œwrite anywhereï¼‰**ã€‚å­¦ä¹  React å¼€å‘ä¹‹åï¼Œä½ å°†èƒ½å¤Ÿç”¨è¿™äº›ç›¸åŒçš„è§„åˆ™æ„å»ºä¸ä»…é€‚ç”¨äºç½‘é¡µç‰ˆï¼Œè¿˜é€‚ç”¨äº iOS å’Œ Android ç­‰åŸç”Ÿå¹³å°çš„ UIï¼Œæˆ‘ä»¬æ˜¯åœ¨ä¸åŒçš„å¹³å°ä¹‹é—´åˆ†äº«ç›¸åŒçš„è§„åˆ™ï¼Œè€Œä¸æ˜¯åˆ†äº«ç›¸åŒçš„ä»“åº“ï¼Œè¿™äº›è§„åˆ™åŒ…æ‹¬ç»„ä»¶åˆæˆå’Œå£°æ˜å¼ UIã€‚



### React Native è§£å¯†

å½“ React é¦–æ¬¡æ¨å‡ºæ—¶ï¼Œä¸€ä¸ªå¾ˆå¤§çš„å–ç‚¹å°±æ˜¯**è™šæ‹Ÿ DOM**ã€‚è¿™å·²æ˜¯ç°åœ¨å¤§å¤šæ•° UI åº“çš„æ ‡é…ï¼Œä½†å½“å®ƒåˆšæ¨å‡ºæ—¶ï¼Œç¡®å®æ˜¯æå…·çªç ´æ€§çš„ï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†è§£è°ƒç”¨ `setState()` ä¼šå‘ç”Ÿçš„è¿‡ç¨‹ï¼Œæ¥çœ‹çœ‹è™šæ‹Ÿ DOM ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚

è°ƒç”¨ `setState()` å React æ‰€åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å°†ä¼ é€’ç»™ `setState()` çš„å¯¹è±¡åˆå¹¶åˆ°ç»„ä»¶çš„å½“å‰çŠ¶æ€ã€‚è¿™ä¼šå¯åŠ¨ä¸€ä¸ªå«åš[è°ƒèŠ‚](https://facebook.github.io/react/docs/reconciliation.html) çš„è¿‡ç¨‹ã€‚è°ƒèŠ‚çš„æœ€ç»ˆç›®çš„æ˜¯**ä»¥æœ€æœ‰æ•ˆçš„æ–¹å¼æ›´æ–°**åŸºäºè¿™ç§æ–°çŠ¶æ€çš„ç”¨æˆ·ç•Œé¢ã€‚ä¸ºæ­¤ï¼ŒReact å°†æ„å»ºä¸€ä¸ªæ–°çš„ React å…ƒç´ æ ‘ï¼ˆä½ å¯ä»¥å°†å…¶è§†ä¸º UI çš„å¯¹è±¡è¡¨ç°å½¢å¼ï¼‰ã€‚ä¸€æ—¦æœ‰äº†è¿™ä¸ªæ–°æ ‘ï¼ŒReact å°±ä¼šä½¿ç”¨ "diff" å‘½ä»¤å°†å®ƒä¸ä¹‹å‰çš„å…ƒç´ æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ä¾¿å¼„æ¸… UI å¦‚ä½•å“åº”æ–°çš„çŠ¶æ€è€Œæ”¹å˜ã€‚é€šè¿‡è¿™æ ·åšï¼ŒReact å°†ä¼šçŸ¥é“å‘ç”Ÿçš„å…·ä½“å˜åŒ–ï¼Œå¹¶ä¸”é€šè¿‡äº†è§£å‘ç”Ÿçš„å…·ä½“å˜åŒ–ï¼Œå®ƒå°†èƒ½å¤Ÿ**ä»…åœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹è¿›è¡Œæ›´æ–°ï¼Œä»¥æœ€å¤§é™åº¦åœ°å‡å°‘ UI çš„å ç”¨ç©ºé—´**ã€‚

åˆ›å»º DOM çš„å¯¹è±¡è¡¨ç°å½¢å¼çš„è¿™ä¸ªè¿‡ç¨‹æ˜¯ "Virtual DOM" èƒŒåçš„æ•´ä½“æ€æƒ³ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³ä»¥ DOM ä¸ºç›®æ ‡è¿›è¡Œæ¸²æŸ“ï¼Œè€Œæ˜¯å°†å¦ä¸€ä¸ªå¹³å°ä½œä¸ºæ¸²æŸ“ç›®æ ‡ -- æ¯”å¦‚è¯´ iOS æˆ– Androidã€‚ç†è®ºä¸Šæ¥è¯´ï¼ŒDOM åªæ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚ã€‚é™¤äº†è¿™ä¸ªåå­—æœ¬èº«ï¼ˆåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ç§è¥é”€æ‰‹æ®µï¼‰å¤–ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥å°†è™šæ‹Ÿ DOM æ¦‚å¿µä¸å®é™… DOM ç›¸ç»“åˆã€‚è¿™æ­£æ˜¯ React Native èƒŒåçš„æ€æƒ³ã€‚React Native ä¸æ˜¯æ¸²æŸ“åˆ° web çš„ DOMï¼Œè€Œæ˜¯æ¸²æŸ“åŸç”Ÿ iOS æˆ– Android è§†å›¾ã€‚è¿™æ˜¯æˆ‘ä»¬å¯ä»¥åªä½¿ç”¨ React Native æ¥æ„å»ºåŸç”Ÿ iOS å’Œ Android åº”ç”¨ã€‚



#### ç»ƒä¹ é¢˜

**ä»…éœ€å­¦ä¹ ä¸€æ¬¡ï¼Œç¼–å†™ä»»ä½•å¹³å°**æ–¹æ³•å¦‚ä½•å½±å“å¼€å‘ï¼Ÿ

- å­¦ä¹  React ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ç›¸åŒçš„åŸç†é¢å‘ web _å’Œ_åŸç”Ÿå¹³å°è¿›è¡Œå¼€å‘ :star:
- React å¼€å‘éµå¾ª"ä»…éœ€å­¦ä¹ ä¸€æ¬¡ï¼Œç¼–å†™ä»»ä½•å¹³å°"çš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¿…é’ˆå¯¹æ¯ä¸ªå¹³å°å¼€å‘ä¸åŒçš„åº”ç”¨
- React Native å¼€å‘ä¸å…¶ä»– React å¹³å°å…±äº«å®Œå…¨ç›¸åŒçš„ä»£ç åº“
- åŒä¸€æ‰¹å·¥ç¨‹å¸ˆä¸ç”¨å­¦ä¹ ä»æ ¹æœ¬ä¸Šä¸åŒçš„æŠ€æœ¯ï¼Œä¾¿å¯åœ¨ä»–ä»¬é€‰æ‹©çš„ä»»ä½•å¹³å°å¼€å‘ :star:

React Native ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ç†ŸçŸ¥çš„ Reactï¼ˆå³*JavaScript*ï¼‰åŸç†æ„å»ºç§»åŠ¨åº”ç”¨ï¼æˆ‘ä»¬çœ‹åˆ°çš„ä¸æ˜¯åµŒå…¥åœ¨ç§»åŠ¨åº”ç”¨ä¸­çš„ web åº”ç”¨ï¼›**æˆ‘ä»¬çš„è¾“å‡ºå°±æ˜¯å®å®åœ¨åœ¨çš„åŸç”Ÿ iOS æˆ– Android åº”ç”¨ç¨‹åº**ï¼

### æ€»ç»“

React Native çš„"ä»…éœ€å­¦ä¹ ä¸€æ¬¡ï¼Œç¼–å†™ä»»ä½•å¹³å°"æ–¹æ³•è®©æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ç†ŸçŸ¥çš„ç›¸åŒåŸç†ï¼Œé¢å‘ web _å’Œ_åŸç”Ÿå¹³å°è¿›è¡Œå¼€å‘ã€‚æ¯•ç«Ÿï¼Œæ ¹æœ¬ä¸Šæ¥è¯´ï¼Œæ— è®ºæ˜¯ç”¨ React æ„å»ºçš„ web åº”ç”¨ï¼Œè¿˜æ˜¯ç”¨ React Native æ„å»ºçš„ç§»åŠ¨åº”ç”¨ï¼Œå¾ˆå¤šè™šæ‹Ÿ DOMã€è°ƒèŠ‚å’Œ diff ç®—æ³•éƒ½é€‚ç”¨ã€‚

#### è¿›ä¸€æ­¥ç ”ç©¶

- [React Native ä¸­çš„æ¡¥æ¥](https://tadeuzagallo.com/blog/react-native-bridge/)



## 1.3 å¼€å‘ç¯å¢ƒè®¾ç½®

### åˆ›å»º React Native åº”ç”¨

å½“æˆ‘ä»¬åœ¨æ­¤è¯¾ç¨‹ä¸­æ„å»ºåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬è¦é¢å‘ Android å’Œ iOS ä¸¤ä¸ªå¹³å°æ„å»ºã€‚é‚£ä¹ˆæˆ‘ä»¬é¢ä¸´çš„ä¸€ä¸ªéš¾é¢˜æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ”¯æŒä¸¤ä¸ªç‹¬ç«‹çš„å¼€å‘ç¯å¢ƒï¼šiOS ä½¿ç”¨ [Xcode](https://developer.apple.com/xcode/)ï¼ŒAndroid ä½¿ç”¨ [Android Studio](https://developer.android.com/studio/index.html)ã€‚è¿™ä¸ºå­¦ä¹ æœ¬è¯¾ç¨‹ä¸­å¸¦æ¥äº†å¾ˆå¤šå¤æ‚æ€§ï¼›æ¯•ç«Ÿï¼ŒXcode å’Œ Android Studio éƒ½å¯ä»¥*æˆä¸ºå•ç‹¬çš„ä¸€å¥—è¯¾ç¨‹*ï¼

å¹¸è¿çš„æ˜¯ï¼Œç°åœ¨æˆ‘ä»¬æœ‰ä¸€ç§æ–°å·¥å…·å¯ä»¥ä½¿ç”¨ï¼Œä½¿æˆ‘ä»¬å¯ä»¥é¢å‘ Android å’Œ iOS è¿›è¡Œå¼€å‘ï¼Œè€Œæ— éœ€æ‰“å¼€ Android Studio æˆ– Xcodeã€‚è¿™ä¸ªå·¥å…·çš„åå­—éå¸¸ç›´ç™½ï¼Œå«åš **Create React Native App**ã€‚å®ƒç±»ä¼¼äº **Create React App**ï¼Œå› ä¸ºä½ éœ€è¦åšçš„æ˜¯é€šè¿‡ NPM å®‰è£… CLIã€‚ç„¶åï¼Œé€šè¿‡ CLIï¼Œä½ å¯ä»¥è½»æ¾åœ°æ„å»ºèµ·ä¸€ä¸ªå…¨æ–°çš„ React Native é¡¹ç›®ã€‚

è·Ÿ Create React App ä¸€æ ·ï¼Œä½¿ç”¨ Create React Native App (CRNA) æœ‰ä¼˜ç‚¹ä¹Ÿæœ‰ç¼ºç‚¹ã€‚é¦–å…ˆæ¥è¯´ä¼˜ç‚¹ã€‚

#### Create React Native App ä¼˜ç‚¹

æ¯”è¾ƒæ˜æ˜¾çš„ä¸€ä¸ªæ˜¯ Create React Native App æœ€å¤§é™åº¦åœ°å‡å°‘äº†åˆ›å»º "hello world" åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ—¶é—´ã€‚äº‹å®ä¸Šï¼Œä½ å¯ä»¥åœ¨ç»ˆç«¯ä¸Šè¿è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œ15 ç§’é’Ÿåï¼Œä¸€ä¸ªä½¿ç”¨ JavaScript åœ¨ Android å’Œ iOS ä¸Šéƒ½å¯ä»¥è¿è¡Œçš„é¡¹ç›®å°±è¯ç”Ÿäº†ï¼Œè¿™ç®€ç›´ä¸å¯æ€è®®ã€‚æ¥ä¸‹æ¥ï¼ŒCreate React Native App è¿˜å…è®¸ä½ è½»æ¾åœ°*åœ¨è‡ªå·±çš„è®¾å¤‡ä¸Š*è¿›è¡Œå¼€å‘ï¼Œè¿™ä¸€ç‚¹æˆ‘ä»¬ç¨åæ·±å…¥äº†è§£ã€‚è¿™æ ·ï¼Œä½ åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰€åšçš„ä»»ä½•æ›´æ”¹å°†ç«‹å³æ˜¾ç¤ºåœ¨æœ¬åœ°æ‰‹æœºä¸Šè¿è¡Œçš„åº”ç”¨ä¸­ã€‚ç„¶åï¼Œï¼ˆè¿™ä¸€ç‚¹æˆ‘ä¹‹å‰æåˆ°è¿‡ï¼‰ï¼Œä½¿ç”¨ Create React Native Appï¼Œä½ åªéœ€è¦è¿™ä¸€ä¸ªæ„å»ºå·¥å…·å°±å¤Ÿäº†ã€‚ä½ ä¸å¿…æ‹…å¿ƒ Xcode æˆ– Android Studioã€‚æœ€åä¸€ç‚¹ï¼Œæ­¤å·¥å…·æ²¡æœ‰é”å®šã€‚å°±åƒ Create React App ä¸€æ ·ï¼Œä½ å¯ä»¥éšæ—¶"å¼¹å‡ºé…ç½®ï¼ˆejectï¼‰"ã€‚

#### Create React Native ç¼ºç‚¹

æ­¤å·¥å…·è¿˜å­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œè™½ç„¶éƒ½æ¯”è¾ƒå°ï¼Œä½†ä¹Ÿå€¼å¾—æ³¨æ„ã€‚é¦–å…ˆï¼Œå¦‚æœä½ åœ¨æ„å»ºä¸€ä¸ªè¦æ·»åŠ åˆ°ç°æœ‰åŸç”Ÿ iOS æˆ– Android åº”ç”¨çš„åº”ç”¨ï¼ŒCreate React Native App å°±æ— æ³•ç”¨äº†ã€‚ç¬¬äºŒï¼Œå¦‚æœä½ éœ€è¦åœ¨ React Native å’Œä¸€äº› Create React Native App ä¸è®¤è¯†çš„åŸç”Ÿ API ä¹‹é—´å»ºç«‹æ¡¥æ¥ï¼ˆè¿™éå¸¸ç½•è§ï¼‰ï¼ŒCreate React Native App å°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚

æˆ‘ä»¬æ¥çœ‹çœ‹å§ï¼



### å®‰è£… Create React Native App

ä¸ºäº†ä½¿ç”¨ Create React Native Appï¼Œè¯·å…ˆåœ¨å…¨å±€å®‰è£…å®ƒ:

```bash
npm install -g create-react-native-app
```

æˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ **yarn**ï¼ˆè®¿é—®[æ­¤å¤„](https://yarnpkg.com/lang/en/docs/install) äº†è§£å®‰è£…è¯´æ˜ï¼‰ï¼š

```bash
yarn global add create-react-native-app
```

> ### âš ï¸ ä½¿ç”¨ Yarn âš ï¸
>
> Create React Native App ç›®å‰æ— æ³•ä¸ NPM v5 ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸º[NPM ä¸­å­˜åœ¨é”™è¯¯](https://github.com/react-community/create-react-native-app/issues/233#issuecomment-305638103)ã€‚è™½ç„¶ NPM v3 æˆ– v4 åº”è¯¥æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¿é™©èµ·è§ï¼Œåé¢æˆ‘ä»¬éƒ½ä½¿ç”¨ Yarnã€‚

---

åœ¨è¿™æ•´é—¨è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ç»å¸¸ç”¨åˆ°ä¸€ä¸ªæœåŠ¡ï¼Œå«åš Expo

![1541577849529](assets/1541577849529.png)

Expo è®© React Native çš„ä½¿ç”¨è¿‡ç¨‹ç®€å•äº†å¾ˆå¤šï¼ŒExpo çš„å®—æ—¨æ˜¯å½“ä½ æ„å»º React Native åº”ç”¨æ—¶ï¼Œä½ ä¸éœ€è¦å¤„ç†åŸç”Ÿä»£ç ï¼Œæ— è®ºæ˜¯ Swift Objective-C è¿˜æ˜¯ javaã€‚ä½œä¸º JavaScript å¼€å‘è€…ï¼Œæˆ‘è§‰å¾—è¿™å¾ˆæ£’ã€‚

æ¯å½“æˆ‘ä»¬éœ€è¦å¤„ç†åŸç”Ÿ API æ—¶ï¼Œä¾‹å¦‚ç›¸æœºæˆ–åœ°ç†ä½ç½®ï¼Œæˆ‘ä»¬ä¸ç”¨ä½¿ç”¨ Xcode æˆ– Android studioï¼Œè¿™ä¸¤ä¸ªå·¥å…·å®åœ¨ä»¤äººå¤´ç–¼ï¼Œç›¸åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Expo çš„ JavaScript API å®ç°ç›¸åŒçš„ç»“æœã€‚

æˆ‘ç®€ç›´æ— æ³•å½¢å®¹ Expo å¯¹ React Native ç¤¾åŒºå¸¦æ¥çš„å½±å“å’Œä»·å€¼ï¼ŒReact Native å›¢é˜Ÿå’Œ Expo å›¢é˜Ÿæœ‰ä½•å…³ç³»ï¼Ÿ

ä»–ä»¬å…³ç³»å¾ˆç´§å¯†ï¼ŒReact Native çš„å¤§éƒ¨åˆ†ä¸»è¦è´¡çŒ®è€…éƒ½æ˜¯ Expo å…¨èŒå¼€å‘è€…ï¼ŒæŸäº›ç”šè‡³æ˜¯å‰ Facebook å‘˜å·¥ï¼Œå®é™…ä¸Š Create React Native åº”ç”¨å°±æ˜¯ç”± Expo å›¢é˜Ÿå¼€å‘çš„ï¼Œå·²æˆä¸ºä½¿ç”¨ React Native æ„å»ºåº”ç”¨çš„å®˜æ–¹æ–¹å¼ã€‚

---

Expo æ˜¯ä¸€é¡¹æœåŠ¡ï¼Œå®ƒèƒ½ä½¿æ¶‰åŠ React Native çš„ä¸€åˆ‡éƒ½å˜å¾—éå¸¸å®¹æ˜“ã€‚**Expo èƒŒåçš„æ€è·¯æ˜¯çœå» Android Studio æˆ– Xcode çš„ä½¿ç”¨**ã€‚æ›´é‡è¦çš„æ˜¯ï¼šå®ƒç”šè‡³å…è®¸æˆ‘ä»¬ä½¿ç”¨ Windowsï¼ˆæˆ–ç”šè‡³ Linuxï¼‰é¢å‘ iOS è¿›è¡Œå¼€å‘ï¼

ä½¿ç”¨ Expoï¼Œä½ å¯ä»¥ä½¿ç”¨å·²ç»ç†Ÿæ‚‰çš„ JavaScript åŠ è½½å’Œè¿è¡Œç”± Create React Native App æ„å»ºçš„é¡¹ç›®ã€‚ä½ æ— éœ€ç¼–è¯‘ä»»ä½•åŸç”Ÿä»£ç ã€‚è€Œä¸”åƒ Create React App ä¸€æ ·ï¼Œå°† Expo ä¸ Create React Native App ä¸€èµ·ä½¿ç”¨ï¼Œå‡ ä¹ä¸ç”¨ä»€ä¹ˆé…ç½®å°±å¯ä»¥ä½¿æˆ‘ä»¬å¼€å§‹è¿è¡Œåº”ç”¨ã€‚

åœ¨æ­¤è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å¤§é‡ä¾èµ– Expoã€‚é¦–å…ˆ: ä½ éœ€è¦_å®‰è£…_ Expoã€‚è¯·å‰å¾€åº”ç”¨å•†åº—ï¼Œå®‰è£…é€‚åˆä½ çš„è®¾å¤‡çš„ Expo ç§»åŠ¨åº”ç”¨ï¼š

- [Google Play ä¸Šçš„ Expo](https://play.google.com/store/apps/details?id=host.exp.exponent) (Android)
- [App Store ä¸Šçš„ Expo](https://itunes.apple.com/us/app/expo-client/id982107779) (iOS)

#### ç»ƒä¹ é¢˜

å…³äº **Create React Native App** å’Œ **Expo** çš„è¯´æ³•å“ªä¸ªæ˜¯æ­£ç¡®çš„ï¼Ÿé€‰æ‹©æ‰€æœ‰é€‚ç”¨é¡¹ï¼š

- Expo åŒ…å«ä¸€å¥—å·¥å…·å’ŒæœåŠ¡ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨ JavaScript æ„å»ºåŸç”Ÿï¼ˆiOS å’Œ Androidï¼‰åº”ç”¨ç¨‹åº :star:
- å°† Create React Native App å’Œ Expo ä¸€èµ·ä½¿ç”¨éœ€è¦ç¼–è¯‘åŸç”Ÿä»£ç 
- ä¸ Create React App å¾ˆåƒï¼ŒCreate React Native App ä½¿æˆ‘ä»¬å¯ä»¥å¿«é€Ÿæ„å»ºèµ·å§‹åº”ç”¨ç¨‹åº :star:
- Expo è®©æ„å»ºç§»åŠ¨åº”ç”¨å˜å¾—ç®€å•ï¼Œè€Œæ— éœ€ç¼–å†™åŸç”Ÿä»£ç ï¼ˆä¾‹å¦‚ Swiftã€Objective Cã€Javaï¼‰:star:

ä¸€èµ·ä½¿ç”¨ Create React Native App å’Œ Expo èƒ½ä½¿æˆ‘ä»¬å¿«é€Ÿæ„å»ºå’Œè¿è¡Œåº”ç”¨ï¼

### Simulators

ç»“åˆ Expo ä¸ Create React Native App æ˜¯æ„å»ºåº”ç”¨çš„æœ€å¿«é€Ÿæ–¹å¼ï¼Œä½†ä¹Ÿæœ‰å…¶ä»–æ„å»ºé¡¹ç›®çš„æ–¹å¼ã€‚å¦‚æœä½ æƒ³å°† React Native é›†æˆåˆ°ç°æœ‰åº”ç”¨ä¸­ï¼Œæˆ–è€…å¦‚æœä½ å·²ä» Create React Native App å¼¹å‡ºåº”ç”¨ï¼Œå¯è‡ªè¡Œå‚è€ƒ React Native æ–‡æ¡£ä¸­çš„[ä½¿ç”¨åŸç”Ÿä»£ç æ„å»ºé¡¹ç›®](https://facebook.github.io/react-native/docs/getting-started.html) é€‰é¡¹å¡ã€‚æœ¬æŒ‡å—è¿˜è®¾ç½®äº† iOS å’Œ Android æ¨¡æ‹Ÿå™¨ï¼Œä»¥ä¾¿ä½ å¯ä»¥ç›´æ¥åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šæ¬£èµè‡ªå·±çš„ç§»åŠ¨åº”ç”¨ï¼æˆ‘ä»¬å°†åœ¨æ­¤è¯¾ç¨‹ä¸­ä½¿ç”¨ iOS å’Œ Android æ¨¡æ‹Ÿå™¨è¿›è¡Œæ¼”ç¤ºï¼Œä½†åœ¨å…¥é—¨é˜¶æ®µä¸å¼ºåˆ¶è¦æ±‚ã€‚

> ğŸ’¡ Bundling Errorï¼ˆUnexpected Tokenï¼‰ğŸ’¡

> å¦‚æœä½ åœ¨å°è¯•è¿è¡Œæ¨¡æ‹Ÿå™¨æ—¶é‡åˆ°æ‰“åŒ…é”™è¯¯ï¼Œè¯·å°è¯•å°† React Native çš„ Babel é¢„è®¾æ›´æ”¹ä¸ºç‰ˆæœ¬ `2.1.0`ã€‚ç„¶åï¼Œåˆ é™¤ä½ çš„ `node-modules` ç›®å½•ï¼Œç”¨ `npm install` é‡æ–°å®‰è£…ï¼Œç„¶åå†æ¬¡è¿è¡Œæ¨¡æ‹Ÿå™¨ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æœ‰å…³ Stack Overflow çš„[æ­¤æ–‡ç« ](https://stackoverflow.com/questions/45725376/react-native-starter-project-bundling-fails-with-unexpected-token-error)ã€‚

---

è®¾ç½®äº†æ¨¡æ‹Ÿå™¨å¹¶å®‰è£…äº† create-react-native-app åï¼Œä¸‹ä¸€æ­¥æ˜¯æ„å»ºæˆ‘ä»¬çš„åº”ç”¨ã€‚

è½¬åˆ°æˆ‘ä»¬çš„ç»ˆç«¯å¹¶è¿è¡Œ create-create-native-appï¼Œç„¶åè¾“å…¥ä½ çš„åº”ç”¨åç§°ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸º UdaciFitnessï¼Œè¿™å’Œ create-react-app å¾ˆç›¸ä¼¼ï¼Œè¿™é‡Œæ˜¯ create-react-native-appï¼Œç„¶åæ˜¯è¦æ„å»ºçš„åº”ç”¨çš„åç§°ã€‚

è¾“å®Œåï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€äº›å¯ä»¥è¿è¡Œçš„æŒ‡ä»¤ï¼Œæˆ‘è¦åšçš„æ˜¯å°±åƒè¿™é‡Œè¯´çš„ï¼Œcd åˆ°æˆ‘ä»¬çš„åº”ç”¨ç›®å½•ä¸­ï¼Œç„¶åæ‰“å¼€è¯¥åº”ç”¨ã€‚ä¸ºäº†å±•ç¤ºä»£ç çœ‹èµ·æ¥æ€æ ·ï¼Œè¾“å…¥ yarnï¼Œè¿è¡Œ yarn start å¯åŠ¨æˆ‘ä»¬çš„åº”ç”¨ï¼Œåœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬çœ‹çœ‹ä»£ç çœ‹èµ·æ¥æ€æ ·ï¼Œè¿™æ˜¯ä¸» App.js æ–‡ä»¶ï¼š

![1541579216319](assets/1541579216319.png)

å¦‚æœä½ ç†Ÿæ‚‰ React çš„è¯ï¼Œè¿™éƒ¨åˆ†çœ‹èµ·æ¥åº”è¯¥ç†Ÿæ‚‰ï¼Œè¿™æ˜¯è§†å›¾ç»„ä»¶ï¼Œé‡Œé¢æ˜¯ä¸€äº›æ–‡æœ¬ç»„ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›æ–‡æœ¬ã€‚å‰©ä¸‹çš„è¿™äº›æ˜¯é…ç½®æ–‡ä»¶ï¼ˆæŒ‡æ•´ä¸ªé¡¹ç›®çš„å…¶ä»–æ–‡ä»¶ï¼‰

ç°åœ¨ä½ ä¼šå‘ç°ï¼Œå½“æˆ‘ä»¬çš„åº”ç”¨å¯åŠ¨æ—¶ï¼Œæˆ‘ä»¬æœ‰å‡ ä¸ªé€‰é¡¹ï¼š

- å¦‚æœæŒ‰ä¸‹ a å°†åœ¨ Android è®¾å¤‡æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œåº”ç”¨
- æŒ‰ä¸‹ q å°†æ˜¾ç¤ºäºŒç»´ç ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªäºŒç»´ç ï¼ˆæŒ‡å±å¹•ä¸Šçš„ä¸€ä¸ªäºŒç»´ç ï¼‰ï¼Œå¦‚æœä½ çš„æ‰‹æœºä¸Šå®‰è£…äº† Expo åº”ç”¨ï¼Œä½ å¯ä»¥æ‰«æè¯¥äºŒç»´ç ï¼Œåªè¦æ‰‹æœºå’Œè®¡ç®—æœºè¿æ¥çš„æ˜¯åŒä¸€ä¸ªç½‘ç»œï¼Œå°±ä¼šçœ‹åˆ°åº”ç”¨åœ¨æ‰‹æœºè¿è¡Œã€‚
- æŒ‰ä¸‹ r å¯ä»¥é‡å¯ packager
- æŒ‰ä¸‹ d å¯ä»¥åˆ‡æ¢å¼€å‘æ¨¡å¼
- æŒ‰ä¸‹ i å¯ä»¥æ‰“å¼€ iOS æ¨¡æ‹Ÿå™¨

æˆ‘ä»¬æŒ‰ä¸‹ iï¼Œå°†å¯åŠ¨ iOS æ¨¡æ‹Ÿå™¨ï¼Œç°åœ¨åœ¨æˆ‘çš„æ¡Œé¢ä¸Šï¼Œä½ å°†çœ‹åˆ°è¿™ä¸ª iOS æ¨¡æ‹Ÿå™¨å’Œè¿™æ®µæ–‡æœ¬ï¼š

![1541579546951](assets/1541579546951.png)

æ¯”è¾ƒé…·çš„æ˜¯å¦‚æœæˆ‘æ›´æ”¹è¿™æ®µæ–‡æœ¬ï¼Œä¾‹å¦‚æ”¹æˆ opening upï¼Œä½ ä¼šå‘ç°è¿™é‡Œåœ¨å®æ—¶é‡æ–°åŠ è½½ã€‚

ç°åœ¨æˆ‘æƒ³åœ¨ Genymotion Android æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œæ­¤åº”ç”¨ï¼Œåœ¨ç»ˆç«¯é‡Œï¼ŒæŒ‰ä¸‹ aï¼Œç°åœ¨ä»£ç ä¹Ÿåœ¨ Android æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œäº†ã€‚

[è¿™æ˜¯åŒ…å«æ­¤è§†é¢‘ä¸­æ‰€åšæ›´æ”¹çš„æäº¤ã€‚](https://github.com/udacity/reactnd-UdaciFitness-complete/commit/5fcff9e5f24616402a8503cf16c4df0328bd4397)

---

### ç¯å¢ƒ

åœ¨ä½¿ç”¨ Create React Native App åˆ›å»ºåº”ç”¨æ—¶ï¼Œä½ æœŸæœ›è·å¾—ä»€ä¹ˆç±»å‹çš„æ”¯æŒï¼Ÿ

- ES5 å’Œ ES6 æ”¯æŒ
- å¯¹è±¡å±•å¼€è¿ç®—ç¬¦
- å¼‚æ­¥å‡½æ•°
- JSXï¼ˆæ¯•ç«Ÿè¿™æ˜¯*React*ï¼ï¼‰
- [Flow](https://flow.org/)
- [Fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)

ç”±äºæˆ‘ä»¬çº¯ç²¹ä½¿ç”¨ JavaScript æ¥æ„å»ºç§»åŠ¨åº”ç”¨ï¼Œè¿™ä¸ªåˆ—è¡¨æ²¡æœ‰ä»€ä¹ˆå¥½æƒŠå¥‡çš„ï¼ç”±äº Create React Native App éš Babel ä¸€èµ·æä¾›ï¼Œè¯·è‡ªè¡ŒæŸ¥çœ‹[æ”¯æŒçš„è½¬æ¢](https://github.com/facebook/react-native/blob/master/babel-preset/configs/main.js#L16) çš„å®Œæ•´åˆ—è¡¨ã€‚



åœ¨å¼€å§‹å®é™…æ„å»ºåº”ç”¨ä¹‹å‰ï¼Œæœ‰ä¸€äº›æ–‡ä»¶æ˜¯é¡¹ç›®æ‰€å¿…éœ€çš„ï¼Œä½†ä½ ä¸å¿…å®Œå…¨ç†è§£ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªç»™ä½ æä¾›ä»£ç ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥çœ‹çœ‹ã€‚

æ‰€æœ‰è¿™ä¸‰ä¸ªæ–‡ä»¶éƒ½å°†ä½äº `utils` æ–‡ä»¶å¤¹ä¸­ã€‚é¦–å…ˆï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `utils`çš„æ–‡ä»¶å¤¹ã€‚

æ¥ä¸‹æ¥ï¼Œä½ è¦åœ¨ `utils` æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶ã€‚

- `colors.js`
- `helpers.js`
- `_calendar.js`ï¼ˆç¡®ä¿åŒ…å«ä¸‹åˆ’çº¿ï¼ï¼‰

å°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ°`utils/colors.js`æ–‡ä»¶ä¸­

```js
// utils/colors.js

export const purple = '#292477'
export const gray = '#757575'
export const white = '#fff'
export const red = '#b71845'
export const orange = '#f26f28'
export const blue = '#4e4cb8'
export const lightPurp = '#7c53c3'
export const pink = '#b93fb3'
```

æ¥ä¸‹æ¥ï¼Œå°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ° `utils/helpers.js` ä¸­

```js
// utils/helpers.js

// åˆ¤æ–­ num æ˜¯å¦åœ¨ x y ä¹‹é—´
export function isBetween (num, x, y) {
  if (num >= x && num <= y) {
    return true
  }

  return false
}

// æ ¹æ® heading å€¼è¿”å›æ‰€é¢å‘çš„æ–¹æ³•
export function calculateDirection (heading) {
  let direction = ''

  if (isBetween(heading, 0, 22.5)) {
    direction = 'North'
  } else if (isBetween(heading, 22.5, 67.5)) {
    direction = 'North East'
  } else if (isBetween(heading, 67.5, 112.5)) {
    direction = 'East'
  } else if (isBetween(heading, 112.5, 157.5)) {
    direction = 'South East'
  } else if (isBetween(heading, 157.5, 202.5)) {
    direction = 'South'
  } else if (isBetween(heading, 202.5, 247.5)) {
    direction = 'South West'
  } else if (isBetween(heading, 247.5, 292.5)) {
    direction = 'West'
  } else if (isBetween(heading, 292.5, 337.5)) {
    direction = 'North West'
  } else if (isBetween(heading, 337.5, 360)) {
    direction = 'North'
  } else {
    direction = 'Calculating'
  }

  return direction
}

// é»˜è®¤è¿”å›å½“å¤©ä»¥ IOS æ ¼å¼è¿”å›å¹´ã€æœˆã€æ—¥ï¼Œæˆ–è€…ä¼ å…¥ç›¸åº”æ—¶é—´çš„æ¯«ç§’æ•°è¿”å›
export function timeToString (time = Date.now()) {
  const date = new Date(time)
  const toDayUTC = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()))
  return todayUTC.toISOString().split('T')[0]
}
```

æœ€åï¼Œå°†ä»¥ä¸‹ä»£ç ç²˜è´´åˆ° `utils/_calendar.js` æ–‡ä»¶ä¸­ã€‚

```js
// utils/_calendar.js

import { AsyncStorage } from 'react-native'
import { getMetricMetaInfo, timeToString } from './helpers'

export const CALENDAR_STORAGE_KEY = 'UdaciFitness:calendar'

function getRandomNumber (max) {
  return Math.floor(Math.random() * max) + 0
}

function setDummyData () {
  const { run, bike, swim, sleep, eat } = getMetricMetaInfo()

  let dummyData = {}
  const timestamp = Date.now()

  for (let i = -183; i < 0; i++) {
    const time = timestamp + i * 24 * 60 * 60 * 1000
    const strTime = timeToString(time)
    dummyData[strTime] = getRandomNumber(3) % 2 === 0
      ? {
          run: getRandomNumber(run.max),
          bike: getRandomNumber(bike.max),
          swim: getRandomNumber(swim.max),
          sleep: getRandomNumber(sleep.max),
          eat: getRandomNumber(eat.max),
        }
      : null
  }

  AsyncStorage.setItem(CALENDAR_STORAGE_KEY, JSON.stringify(dummyData))

  return dummyData
}

function setMissingDates (dates) {
  const length = Object.keys(dates).length
  const timestamp = Date.now()

  for (let i = -183; i < 0; i++) {
    const time = timestamp + i * 24 * 60 * 60 * 1000
    const strTime = timeToString(time)

    if (typeof dates[strTime] === 'undefined') {
      dates[strTime] = null
    }
  }

  return dates
}

export function formatCalendarResults (results) {
  return results === null
    ? setDummyData()
    : setMissingDates(JSON.parse(results))
}
```

[è¿™æ˜¯åŒ…å«åœ¨ `utils` æ–‡ä»¶å¤¹ä¸­æ‰€åšæ›´æ”¹çš„æäº¤ã€‚](https://github.com/udacity/reactnd-UdaciFitness-complete/commit/6ecbdd5a5685c819fb511e2fb5dc4de0d4dd0ab0)

##### ç¡®ä¿ä½ çš„é¡¹ç›®å‡†å¤‡å°±ç»ªäº†ï¼

Task List

- æˆ‘å…¨å±€å®‰è£…äº† Create React Native åº”ç”¨
- æˆ‘é€šè¿‡å‘½ä»¤è¡Œåˆ›å»ºäº† UdaciFitness é¡¹ç›®
- æˆ‘å°†ä»¥ä¸‹æ–‡ä»¶æ·»åŠ åˆ°äº†æˆ‘çš„ `utils` æ–‡ä»¶å¤¹ï¼š`_calendar.js`ã€`colors.js`ã€`helpers.js`
- æˆ‘ä½¿ç”¨ `npm start` å¯åŠ¨äº†æˆ‘çš„å¼€å‘æœåŠ¡å™¨
- æˆ‘åœ¨æˆ‘çš„è®¾å¤‡ä¸Šå®‰è£…äº† **Expo** ç§»åŠ¨åº”ç”¨
- æˆ‘ä½¿ç”¨ Expo ç§»åŠ¨åº”ç”¨æ‰«æäº†ç»ˆç«¯ä¸­çš„ QR ç 



### æ€»ç»“

**Create React Native App** ç±»ä¼¼äº **Create React App**ï¼Œåœ¨äºå®ƒåªéœ€æœ€å°‘çš„é…ç½®ä¾¿èƒ½æ„å»ºèµ·å§‹åº”ç”¨ç¨‹åº:

- èŠ±æœ€å°‘çš„"æ—¶é—´æ„å»ºèµ· 'Hello World'"
- åœ¨ä½ è‡ªå·±çš„è®¾å¤‡ä¸Šé€šè¿‡ **Expo è¿›è¡Œå¼€å‘**
- åªéœ€å•ä¸ªæ„å»ºå·¥å…·
- ä¸é”å®šï¼ˆå³éšæ—¶å¼¹å‡ºï¼‰

ä½ ä¹Ÿå¯ä»¥è®¾ç½®**æ¨¡æ‹Ÿå™¨**æ¥å¸®åŠ©å¼€å‘ã€‚ä½†æ— è®ºæˆ‘ä»¬é€‰æ‹©å“ªç§å¼€å‘å¹³å°ï¼ˆiOSã€Androidï¼‰ä»¥åŠå“ªç§ç¯å¢ƒï¼ˆMacã€Windowsã€Linuxï¼‰-- æˆ‘ä»¬å®Œå…¨åœ¨ä½¿ç”¨ç†Ÿæ‚‰çš„æ—§ JavaScript è¿›è¡Œæ„å»ºï¼



## 1.4 ä½¿ç”¨è°ƒè¯•å™¨

### å¦‚ä½•è°ƒè¯•

æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æ‰€æåˆ°çš„ï¼ŒReact Native æˆ–è®¸æœ€å¥½çš„ä¸€ç‚¹åœ¨äºå®ƒå°†ä½ ç†Ÿæ‚‰çš„ web å¼€å‘ä½“éªŒå¸¦åˆ°äº†åŸç”Ÿå¼€å‘ã€‚åƒç°åœºé‡æ–°åŠ è½½å’Œè°ƒè¯•ç­‰åŠŸèƒ½éƒ½æ˜¯å¼€ç®±å³ç”¨ã€‚æˆ‘ä»¬æ¥æ·±å…¥äº†è§£ä¸€ä¸‹è¿™äº›åŠŸèƒ½ - é¦–å…ˆæ˜¯è°ƒè¯•ï¼

---

ç°åœ¨å±•ç¤ºçš„æ˜¯åœ¨ iOS å’Œ Android ä¸Šçš„ Creact React Native åº”ç”¨ä¸Šè¿è¡Œçš„åŸºæœ¬åº”ç”¨ï¼š

![1541597971633](assets/1541597971633.png)

æˆ‘åœ¨æœ¬è§†é¢‘ä¸­è¦æ¼”ç¤ºçš„æ˜¯ï¼Œå¦‚ä½•åœ¨è¿™ä¸¤ä¸ªåº”ç”¨ä¸­æ‰“å¼€å¼€å‘è€…èœå•ä»¥åŠå¦‚ä½•è°ƒè¯•åº”ç”¨ï¼Œåœ¨å¿…è¦æ—¶ä½¿ä½ èƒ½å¤Ÿè½»æ¾åœ°è°ƒè¯•ä»£ç ã€‚

å¦‚æœä½ åœ¨ä½¿ç”¨ iOS æ¨¡æ‹Ÿå™¨é€‰æ‹©å®ƒï¼ŒæŒ‰ä¸‹ Command+ D åä¼šæ‰“å¼€æ­¤èœå•ï¼Œä½ ä¼šæ³¨æ„åˆ°å‡ ä¸ªé€‰é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ·æ–°ã€å¤åˆ¶é“¾æ¥ã€åœç”¨å®æ—¶è§†å›¾ã€ç­‰ç­‰ã€‚ä½†æ˜¯æˆ‘è¦ä»‹ç»çš„æ˜¯è¿™ä¸ª Debug Remote JSï¼ˆå…¶ä¸­ä¸€ä¸ªé€‰é¡¹ï¼‰ã€‚

é€‰æ‹©è¯¥é€‰é¡¹åï¼ŒReact Native å°†æ‰“å¼€å¦ä¸€ä¸ªçª—å£ï¼ˆç½‘é¡µä¸­çš„çª—å£ï¼‰ï¼Œåœ¨æ­¤çª—å£ä¸­ï¼Œå¦‚æœå’Œä¹‹å‰ä¸€æ ·æ‰“å¼€æ§åˆ¶å°ï¼Œå°†çœ‹åˆ°ä¸€äº›ä»£ç ï¼Œæœ‰ä¸€äº›è­¦å‘Šã€‚å¦‚æœæˆ‘æƒ³åœ¨åº”ç”¨ä¸­æ·»åŠ è°ƒè¯•å™¨ï¼Œå‡è®¾æ¯å½“è¯¥ç»„ä»¶åŠ è½½æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½è°ƒè¯•ä¸‹ï¼Œæˆ‘ä»¬åªéœ€å’Œä¹‹å‰ä¸€æ ·ï¼Œæ·»åŠ è°ƒè¯•å™¨ï¼Œåœ¨è¿™é‡Œè¾“å‡ºæ§åˆ¶å°æ—¥å¿—â€œbeforeâ€ï¼Œç„¶åè¾“å‡ºæ—¥å¿—â€œafterâ€ï¼š

![1541598576231](assets/1541598576231.png)

è¿™æ ·å°±ä¼šåˆ·æ–°åº”ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬å¼€å¯äº†å®æ—¶é‡æ–°åŠ è½½åŠŸèƒ½ï¼Œç„¶åä½ ä¼šå‘ç°ï¼Œå¦‚æœå›åˆ°æ§åˆ¶å°ï¼Œæˆ‘ä»¬ä½äºæ§åˆ¶å°ä¸­ï¼Œå°±åƒä½äºç½‘é¡µä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ª beforeï¼Œç„¶åå°±åƒåœ¨ç½‘é¡µä¸Šä¸€é¡µï¼Œè½¬åˆ°ä¸‹é¢è·å¾— afterï¼Œä¸€åˆ‡éƒ½ä¸€æ ·ï¼ˆä¹Ÿå°±æ˜¯å’Œä½ å¼€å‘ web ç¨‹åºæ˜¯ä¸€æ ·çš„ï¼‰ï¼š

![1541598898150](assets/1541598898150.png)

React Native çš„å¥½å¤„æ˜¯åœ¨ç½‘é¡µä¸Šçš„å¼€å‘ä½“éªŒå’Œåœ¨ React Native ä¸­å®Œå…¨ä¸€æ ·ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å‘æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œå¯ä»¥æ’å…¥è°ƒè¯•å™¨ï¼Œä¸€åˆ‡éƒ½å¾ˆç†Ÿæ‚‰ã€‚

åœ¨ Android ä¸Šè¦æ‰“å¼€å¼€å‘è€…èœå•ï¼ŒæŒ‰ä¸‹ Command + Mï¼Œè€Œä¸æ˜¯ Command + Dï¼Œç„¶åè·å¾—è¿™äº›é€‰é¡¹ï¼š

![1541598936013](assets/1541598936013.png)

æˆ‘å†æ¬¡å›åˆ° iOS åº”ç”¨ï¼Œæˆ‘æƒ³å†é€‰æ‹©ä¸€ä¸ªé€‰é¡¹ï¼Œè¿™é‡Œæœ‰ä¸ª Toggle Element Inspectorï¼Œè¿™å°±åƒåœ¨ç½‘é¡µä¸Šé€‰æ‹©å…ƒç´ ä¸€æ ·ï¼Œæˆ‘å¯ä»¥ç‚¹å‡»ä»»ä½•ä¸€ä¸ªå…ƒç´ å¹¶è·å¾—åº”ç”¨åˆ°å…¶ä¸Šçš„æ ·å¼å’Œä»»ä½•å†…å¤–é—´è·ï¼Œå¯¹äºç½‘é¡µä¸Šçš„ Box Model Inspectorï¼Œæˆ‘ä»¬åœ¨ React Native ä¸­ä¹Ÿæœ‰ç›¸åº”çš„é€‰é¡¹ã€‚å‡è®¾æˆ‘æƒ³ç‚¹å‡»å…¶ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ä¸æ£€æµ‹å®ƒï¼Œæˆ‘åªéœ€é€‰æ‹©è¿™ä¸ªæ–¹æ¡†ï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€æˆ–å…³é—­æ­¤é€‰é¡¹ã€‚è¦å–æ¶ˆå®ƒï¼Œåªéœ€æŒ‰ä¸‹ Command + D ç„¶åç‚¹å‡» Toggle Element Inspectorã€‚

å¼€å‘è€…é€‰é¡¹ä¸­æœ‰å¾ˆå¤šå¯ä»¥é€‰æ‹©çš„å†…å®¹ï¼Œæœ€é‡è¦çš„åŠŸèƒ½æ˜¯åˆ·æ–°ï¼ŒToggle Element Inspector ä»¥åŠå¯åŠ¨å’Œåœæ­¢è¿œç¨‹è°ƒè¯•å™¨ã€‚

---

### åˆ·æ–° App

å½“æˆ‘ä»¬ä¸ºç½‘ç«™å¼€å‘åº”ç”¨æ—¶ï¼Œå¦‚æœæœ‰ä»€ä¹ˆå¥‡æ€ªçš„åœ°æ–¹ï¼Œåˆ·æ–°ä¸‹å°±å¯ä»¥äº†ï¼Œé€šå¸¸ï¼Œå¯¹äºåŸç”Ÿå¼€å‘è¿‡ç¨‹åˆ™ä¸èƒ½è¿™ä¹ˆåˆ·æ–°ï¼Œå› ä¸ºéœ€è¦é‡æ–°ç¼–è¯‘ä»£ç ã€‚

å¯¹äº React Nativeï¼Œå› ä¸ºå¯ä»¥è·å¾—åƒåœ¨ç½‘ç»œå¹³å°ä¸Šçš„ç›¸åŒå¼€å‘ä½“éªŒï¼Œå› æ­¤å¯ä»¥æ ¹æ®éœ€è¦åˆ·æ–°åº”ç”¨ã€‚å¯¹äº iOS å’Œ Android æ¨¡æ‹Ÿå™¨ï¼Œåªéœ€ç‚¹æŒ‰ä¸¤æ¬¡ Rã€‚å¦‚æœæ˜¯æ‰‹æœºï¼Œåªéœ€æ‘‡åŠ¨æ‰‹æœºï¼Œç„¶åæŒ‰ä¸‹åˆ·æ–°ã€‚

åœ¨ä¸Šä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘æ¼”ç¤ºäº†å¦‚ä½•åœ¨ iOS å’Œ Android å¹³å°ä¸Šæ‰“å¼€å¼€å‘è€…å·¥å…·ã€‚åœ¨ iOS ä¸ŠæŒ‰ä¸‹ Command+Dï¼Œåœ¨ Android ä¸ŠæŒ‰ä¸‹ Command + M æ‰“å¼€å¼€å‘è€…å·¥å…·åï¼Œå¯ä»¥é‡æ–°åŠ è½½æˆ–åˆ·æ–°åº”ç”¨ã€‚å®é™…ä¸Šæœ‰ä¸ªå¿«æ·é”®ï¼Œåœ¨ iOS ä¸Šä¸‹è½½ Command + R ä¼šåˆ·æ–°åº”ç”¨ã€‚åœ¨ Android åº”ç”¨ä¸Šç‚¹æŒ‰ä¸¤æ¬¡ R å³å¯åˆ·æ–°åº”ç”¨ã€‚

---



### ç»ƒä¹ é¢˜

å¦‚ä½•è®¿é—®åº”ç”¨å†…çš„å¼€å‘è€…èœå•ï¼Ÿé€‰æ‹©æ‰€æœ‰é€‚ç”¨é¡¹ï¼š

- æ›´æ”¹ Expo ç§»åŠ¨åº”ç”¨ä¸­çš„è®¾ç½®
- ä»é€šçŸ¥æŠ½å±‰ä¸­é€‰æ‹©**è°ƒè¯•**
- æ™ƒåŠ¨æ‰‹æœº :star:
- åœ¨æ¨¡æ‹Ÿå™¨ä¸­é€‰æ‹©**æ™ƒåŠ¨æ‰‹åŠ¿** :star:
- åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä¸‹ âŒ˜Dï¼Œæˆ–åœ¨ Android æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä¸‹ âŒ˜M :star:

åªéœ€è½»æ™ƒæ‰‹æœºæˆ–ä½¿ç”¨å¿«æ·é”®åœ¨æ¨¡æ‹Ÿå™¨ä¸­æ¨¡æ‹Ÿæ™ƒåŠ¨æ‰‹æœºï¼Œä¾¿å¯è®¿é—®å¼€å‘è€…èœå•ã€‚ 

## æ€»ç»“

React Native å¼€å‘å¥½çš„ä¸€ç‚¹åœ¨äºå®ƒå°†ä½ ç†Ÿæ‚‰çš„ web å¼€å‘ä½“éªŒå¸¦åˆ°äº†åŸç”Ÿå¼€å‘ã€‚è®¿é—®åº”ç”¨å†…å¼€å‘è€…èœå•ä½¿ä½ èƒ½å¤Ÿé‡æ–°åŠ è½½ JavaScript ä»£ç ï¼Œé€šè¿‡å¼€å‘è€…å·¥å…·è¿›è¡Œè¿œç¨‹è°ƒè¯•ï¼Œç”šè‡³æ˜¾ç¤ºåº”ç”¨å†…æ£€æŸ¥å™¨ã€‚

### è°ƒè¯•

ä½ åªéœ€æ™ƒåŠ¨æ‰‹æœºæˆ–:

- åœ¨ iOS æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä¸‹âŒ˜D
- åœ¨ Android æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ä¸‹ âŒ˜M

### åˆ·æ–°

è¦åˆ·æ–°åº”ç”¨ï¼Œåªéœ€:

- åŒå‡»é”®ç›˜ä¸Šçš„ â€œRâ€ï¼ˆå¦‚æœä½ ç”¨çš„æ˜¯æ¨¡æ‹Ÿå™¨ï¼‰
- æ™ƒåŠ¨æ‰‹æœºï¼Œç„¶åé€‰æ‹©â€œåˆ·æ–°â€

---

## 1.5 è¯¾ç¨‹æ€»ç»“

ç¬¬ä¸€èŠ‚è¯¾åˆ°æ­¤å°±ç»“æŸäº†ï¼Œå¾ˆæ£’ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸‹æ‰€å­¦çš„å†…å®¹ã€‚

- React Native ä½¿ä½ èƒ½å¤Ÿè¿ç”¨åœ¨ React ä¸­æ‰€éœ€çš„çŸ¥è¯†æ„å»ºåŸç”Ÿ iOS ä¸ Android åº”ç”¨ã€‚
- Expo ä½¿ React Native ä½¿ç”¨èµ·æ¥ç®€å•å¤šäº†ã€‚
- Creact React Native App æ˜¯æ–°å»º React Native é¡¹ç›®çš„å®˜æ–¹æ–¹å¼ã€‚

ç°åœ¨ä½ åº”è¯¥å·²ç»åœ¨è®¡ç®—æœºä¸Šè®¾ç½®äº†å¼€å‘ç¯å¢ƒï¼Œåœ¨ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†äº†è§£ React å’Œ React Native æœ‰ä½•ç›¸ä¼¼ä¹‹å¤„ã€‚



