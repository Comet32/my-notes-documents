# 核心知识提炼

[TOC]

---

## 1. 为何要使用 Redux

### 1.1 Redux 简介

#### 使用 Redux 的原因

- 由于在职业生涯中可能遇到的 bug 中，大部分都是应用中状态或数据的管理不当造成的。因此，我们需要一个更好的方式去管理状态。而使用 Redux 管理状态的好处在于，能够使应用中的状态更加可预测，当出现 bug 时，会更容易发现问题的所在。

- 我们说 React 的一个优势也是状态管理，并且也是单向数据流动，那为什么还需要使用 Redux。

  - 第一个是共享状态。如果两个组件依赖于相同的状态，它们并不拥有相同的父组件，而可能是拥有相同的曾曾曾祖组件，那使用 React 传递其中的数据就必然会经过会很多并没有使用这个状态的子组件，这个过程是很麻烦的。但使用 Redux 就能解决这个问题。

  - 第二个优势是**缓存**，从本质上来说 **Redux 可以更轻松地缓存 API 调用或昂贵的操作，这会使应用拥有更好的用户体验**。虽然创建一个 React 应用不一定需要 Redux，但它的确会**让一些事情变得更加容易**。

  - Redux 的基本原则之一是存在单一数据源：Store。也就是说，Store 包括应用的全局状态，全存储在一个对象树中。

    只有单个状态树，对于应用的很多方面都有好处。假设在构建应用时尝试实现撤消/重做功能。如果所有状态都存储在一个树（单一数据源）中，则实现起来比数据分散在多个组件中简单多了。状态集中到一个位置后，**调试和检测过程也会简单很多**！

#### Redux 为何诞生

随着单页面应用变得越来越复杂，正确地管理状态这一需求更加重要。例如，除了管理表格状态（例如《React 基础知识》课程中的 Contacts 应用）等数据外，应用可能还需要管理：

- 服务器响应
- 缓存的数据（例如用户）
- 尚未保存到服务器上的本地数据

除此之外，UI 状态也越来越复杂。同一应用可能还需要跟踪：

- 当前路由
- 当前选择的标签页
- 页码控件

Redux 便因此而生，它专门用于管理上述所有这些内容。