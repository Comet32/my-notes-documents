# 3.4 分离重构

> 开始重构你的 Cat Clicker 应用的代码，学习如何最好地改进应用的结构。

---

[TOC]

---

## 1. 第 2 课简介



---

## 2. 识别模型和视图



---

### 视频中的图片练习

M OR V (哪些属于模型? 哪些属于视图? )

- 可以点击的猫咪列表
- 目前的猫咪展示
- 猫对象数组

---

## 3. 检查高级版的模型和视图



---

## 4.  确定章鱼



---

## 5. Andy 的代码 1



---

这里是 [Andy 的 Cat Clicker](https://github.com/udacity/ud989-cat-clicker-andy) 的代码库。

------

### 视频中的图片练习

现在看看 Andy 的实际代码， 你能否弄明白 Andy 是如何显示不同猫咪的？

- 对于每一个点击的猫信息，替换单一视图下的 DOM 元素。
- 为每一只猫保留一个单独的视图，展示、隐藏它们。

---

## 6. Andy 的代码 2

### 视频中的图片练习

Andy 的模型的数据存储在哪了？

- 在变量中
- 在 DOM 中
- 在服务器的某处
- 在他的大脑中！

---

## 7. 为 Andy 辩护



---

## 8. 重新构建 Cat Clicker 高级版



---

## 9. Cat Clicker 高级版要求

## Cat Clicker 项目高级版要求

### 视觉

- 该应用程序应该显示
  - 一个按名称列出的猫列表
  - 一块用于显示所选的猫的区域
- 在猫显示区域，应该会显示以下内容
  - 猫的名称
  - 猫的图片
  - 显示点击数的文本
- 布局的细节无关紧要，因此可以按照你喜欢的方式设置样式。

### 交互

- 点击列表中的猫名称时，猫显示区域应该更新以显示所选的猫的数据。
- 猫区域内的点击数应该对每只猫具有唯一性，并且应该在点击猫的图片时增加。

### 资源

查看上一节课中 `闭包和事件侦听程序` 的阅读节点。你可能会需要它来使猫列表的点击事件发挥作用。

### 灵感

![Cute Cat for Inspiration](assets\unnamed-9.jpg)

感谢 [Cowboy Dave](https://www.flickr.com/photos/8494589@N06/2177097057) 提供本图片。

[开始练习](https://classroom.udacity.com/nanodegrees/nd001-cn-advanced/parts/55f212f3-1450-46a6-aefd-a8295973c097/modules/0272c404-0bca-41cb-a99b-ba765b87ccbe/lessons/3437288625/concepts/34150193020923#)

### 视频中的图片练习

#### 突击测验

- 在你的模型中，你调用了多少次 视图 方法？
- 在你的章鱼中，你调用了多少次 视图 方法？
- 在你的模型中，你调用了多少次 章鱼 方法？
- 在你的视图中，你调用了多少次 章鱼 方法？
- 在你的视图中，你调用了多少次 模型 方法？
- 在你的章鱼中，你调用了多少次 模型 方法？

---

## 10. Cat Clicker 高级版解决方案



---

 以下是包含[我的 Cat Clicker 高级版解决方案](https://github.com/udacity/ud989-cat-clicker-premium-vanilla-zh) 的代码库。 

---

## 11. Cat Clicker 高级版解决方案评审

### 解决方案评审时间！

花一些时间来通读我的代码。请记住，不要盲目地复制我的代码。你可以把它作为启发性的引导，但记住，有多种方法可以编写此应用程序。重点在于你的代码能适当地分离关注点。

这是包含 [我的 Cat Clicker 高级版解决方案](https://github.com/udacity/ud989-cat-clicker-premium-vanilla-zh) 的代码库。

你对我的代码感到合意后，请单击继续。

---

## 12. Cat Clicker 高级专业版



---

## 13. Cat Clicker 高级专业版要求

## Cat Clicker 项目高级专业版要求

### 视觉

- 该应用程序应该显示
  - 一个按名称列出的猫列表
  - 一块用于显示所选的猫的区域
  - 一个管理员按钮
  - 一个管理员区域，包含用于更改猫的名称、url 和点击数（默认已隐藏）的输入

- 在猫显示区域，应该会显示以下内容
  - 猫的名称
  - 猫的图片
  - 显示点击数的文本
- 布局的细节无关紧要，因此可以按照你喜欢的方式设置样式。

### 互动

- 点击列表中的猫名称时，猫显示区域应该更新以显示所选的猫的数据。
- 猫区域内的点击数应该对每只猫具有唯一性，并且应该在点击猫的图片时增加。
- 单击管理员按钮时，管理员区域应该显示，并包含已针对当前选定的猫填写的输入。
- 按下管理员区域的取消按钮时，管理员区域会消失。
- 按下管理员区域中的保存按钮时，当前选定的猫的值将更新为管理员区域中的值，且管理员区域会消失。

### 灵感

![Cute Cat for Inspiration](assets/unnamed-1.jpg)

感谢 [Doug](https://www.flickr.com/photos/deerwooduk/579761138) 提供本图片。

---

## 14. 如何使项目现代化



---

## 15. 采访 Nic



---

## 16. 采访 Jacques



---

## 17. 重构面条式代码



---

## 18. 考勤应用的代码库

这是[学校考勤应用](https://github.com/udacity/ud989-school-attendance)的代码库。

请记住，你可以在代码看起来可挽回时将其重构，或者你可以把它彻底删除，然后重新开始。

如果项目过于棘手或者你觉得项目过大，不用担心现在如何完成它。本次练习的重点是让你查看一些糟糕的代码，并让你决定如何处理它。

---

## 19. 你用了哪种方法？



---

### 视频中的图片练习

#### 你用了哪种方法？

- 完全删除的方法
- 重构替代的方法

---

## 20. 采访作者



---

## 21. 重构简历应用



---

简历应用项目的代码库可在[此处找到](https://github.com/udacity/frontend-nanodegree-resume)。 

---

## 22. 简历应用的代码库

简历应用项目的代码库可在[此处找到](https://github.com/udacity/frontend-nanodegree-resume)。

和上一个项目一样，如果你觉得过于棘手，不用担心现在如何处理。本次练习的主要目的是让你练习重构和编写代码。

---

## 23. 准备第 3 课

