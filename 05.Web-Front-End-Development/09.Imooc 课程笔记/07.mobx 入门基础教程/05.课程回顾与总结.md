# 课程回顾与总结

[TOC]

## 一、基础语法知识

高效使用 mobx 的必要条件：

- ES 2015 class
  - 虽然 class 只是语法糖，我们有很多其他的方式来实现类的定义与继承，但 class 能在很大程度上给我们带来效率提升和语义化，这不仅仅对于使用面向对象的编程范式有利，同时和 react 等组件化工具库打交道也更为方便
- ES 2017 decorator
  - decorator 为我们避免了很多函数式编程风格的过程处理，使得语义化更清晰，实现更简洁，特别与 class 配合起来使开发者的工作量大大降低。

## 二、mobx 常用 API

三个角度，mobx 的基础使用方法：

- 可观察数据：observable
  - 将变量转化为可观察数据，特别是对于纯对象、数组、map，能够监控到变量内部属性的变化，在实际的使用中，我们是将 `observable` 作为 `decarator` 来直接生成类成员形式的
- 对可观察数据做出反应：computed/autorun/when/reaction
  - computed 可以认为是普通可观察数据的粘合剂，其结果任然是可观察数据
  - 其他三种大同小异都可以自动跟踪可观察数据，并在可观察数据被修改的时候自动运行
- 修改可观察数据：action
  - 我们使用 action 来把多个对可观察数据同步修改封装为一次修改，能够避免程序对数据修改的过度反应，从而提升性能

这三种 API 是 mobx 的核心概念，基于它们我们引入了 mobx-react 工具库

## 三、mobx 应用

mobx-react 工具库能将 react 组件封装成一种对可观察数据的反应，这样当程序的状态都是可观察数据，那么 react 组件将会自动渲染，我们只需要与数据打交道即可。因此，mobx 的一个重要应用场景就是在基于 react 的业务中帮助我们**解耦业务逻辑与视图渲染**。

## 四、mobx 最佳实践

提升开发体验，优化渲染性能

- observe/toJS/trace/spy
  - `trace` 方法为我们展示了 todo List 的性能缺陷，为了优化性能我们分析并解决了 todolist 所存在的明显问题并总结出了三条法则
- 三条法则
  - 1.尽量晚（深）地解构（取出）可观察的数据
  - 2.使用专用组件处理列表（用单独的组件映射集合）
  - 3.细粒度拆分视图组件（尽可能细的拆分组件）



如想精通 `mobx` 则需仔细阅读官方文档：https://mobx.js.org/ 

包含了 mobx 原理的解释和周边工具链的介绍

